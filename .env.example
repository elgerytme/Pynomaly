# Pynomaly Environment Configuration Template
# Copy this file to .env and fill in the values for your environment

# ================================
# APPLICATION CONFIGURATION
# ================================

# Application environment (development, staging, production)
PYNOMALY_APP_ENVIRONMENT=development

# Security key for JWT tokens and encryption (must be at least 32 characters)
PYNOMALY_SECRET_KEY=change-me-in-production-this-is-32-chars-long-default-key

# Application base URL
PYNOMALY_BASE_URL=http://localhost:8000

# ================================
# DATABASE CONFIGURATION
# ================================

# Database URL (SQLite by default, PostgreSQL recommended for production)
# SQLite: sqlite:///./pynomaly.db
# PostgreSQL: postgresql://username:password@localhost:5432/pynomaly
DATABASE_URL=sqlite:///./pynomaly.db

# Database pool settings (for PostgreSQL)
PYNOMALY_DATABASE_POOL_SIZE=10
PYNOMALY_DATABASE_MAX_OVERFLOW=20
PYNOMALY_DATABASE_POOL_TIMEOUT=30

# Enable database repositories (default: false for backward compatibility)
PYNOMALY_DATABASE_USE_DATABASE_REPOSITORIES=true

# ================================
# AUTHENTICATION & SECURITY
# ================================

# Authentication settings
PYNOMALY_SECURITY_AUTH_ENABLED=true
PYNOMALY_SECURITY_JWT_ALGORITHM=HS256
PYNOMALY_SECURITY_JWT_EXPIRATION=3600

# Session settings
PYNOMALY_SECURITY_SESSION_TIMEOUT=3600
PYNOMALY_SECURITY_MAX_CONCURRENT_SESSIONS=5

# Rate limiting
PYNOMALY_SECURITY_BRUTE_FORCE_MAX_ATTEMPTS=5
PYNOMALY_SECURITY_BRUTE_FORCE_TIME_WINDOW=300

# Security headers
PYNOMALY_SECURITY_SECURITY_HEADERS_ENABLED=true
PYNOMALY_SECURITY_CSP_ENABLED=true
PYNOMALY_SECURITY_HSTS_ENABLED=true

# ================================
# EMAIL CONFIGURATION
# ================================

# SMTP server settings (required for password reset and user invitations)
PYNOMALY_SECURITY_SMTP_SERVER=smtp.gmail.com
PYNOMALY_SECURITY_SMTP_PORT=587
PYNOMALY_SECURITY_SMTP_USERNAME=your-email@gmail.com
PYNOMALY_SECURITY_SMTP_PASSWORD=your-app-password
PYNOMALY_SECURITY_SMTP_USE_TLS=true

# Email sender settings
PYNOMALY_SECURITY_SENDER_EMAIL=your-email@gmail.com
PYNOMALY_SECURITY_SENDER_NAME=Pynomaly System

# ================================
# MULTI-FACTOR AUTHENTICATION
# ================================

# Redis/Cache settings for MFA (optional - falls back to in-memory if not configured)
REDIS_URL=redis://localhost:6379/0

# ================================
# API CONFIGURATION
# ================================

# API settings
PYNOMALY_API_TITLE=Pynomaly API
PYNOMALY_API_VERSION=1.0.0
PYNOMALY_API_DEBUG=false

# CORS settings
PYNOMALY_API_CORS_ENABLED=true
PYNOMALY_API_CORS_ALLOW_ORIGINS=["http://localhost:3000", "http://localhost:8080"]
PYNOMALY_API_CORS_ALLOW_CREDENTIALS=true

# ================================
# MONITORING & LOGGING
# ================================

# Monitoring settings
PYNOMALY_MONITORING_ENABLED=true
PYNOMALY_MONITORING_LOG_LEVEL=INFO

# Security monitoring
PYNOMALY_SECURITY_ENABLE_AUDIT_LOGGING=true
PYNOMALY_SECURITY_ENABLE_SECURITY_MONITORING=true
PYNOMALY_SECURITY_THREAT_DETECTION_ENABLED=true

# ================================
# MACHINE LEARNING
# ================================

# ML model storage
PYNOMALY_ML_MODEL_STORAGE_TYPE=filesystem
PYNOMALY_ML_MODEL_STORAGE_PATH=./models

# ML settings
PYNOMALY_ML_DEFAULT_ALGORITHM=isolation_forest
PYNOMALY_ML_ENABLE_AUTO_SCALING=true

# ================================
# STORAGE CONFIGURATION
# ================================

# File storage settings
PYNOMALY_STORAGE_TYPE=filesystem
PYNOMALY_STORAGE_PATH=./data
PYNOMALY_STORAGE_MAX_FILE_SIZE=100

# ================================
# EXAMPLE VALUES FOR COMMON SETUPS
# ================================

# Example PostgreSQL configuration:
# DATABASE_URL=postgresql://pynomaly_user:secure_password@localhost:5432/pynomaly_db

# Example Gmail SMTP configuration:
# PYNOMALY_SECURITY_SMTP_SERVER=smtp.gmail.com
# PYNOMALY_SECURITY_SMTP_PORT=587
# PYNOMALY_SECURITY_SMTP_USERNAME=youremail@gmail.com
# PYNOMALY_SECURITY_SMTP_PASSWORD=your_app_password  # Use App Password, not regular password
# PYNOMALY_SECURITY_SENDER_EMAIL=youremail@gmail.com

# Example production security settings:
# PYNOMALY_SECRET_KEY=your-very-secure-random-32-plus-character-secret-key-here
# PYNOMALY_APP_ENVIRONMENT=production
# PYNOMALY_SECURITY_SECURITY_HEADERS_ENABLED=true
# PYNOMALY_SECURITY_CSP_ENABLED=true
# PYNOMALY_SECURITY_HSTS_ENABLED=true
