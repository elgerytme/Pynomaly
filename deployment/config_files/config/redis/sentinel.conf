# Redis Sentinel Configuration for High Availability (Issue #99)
# Provides automatic failover and monitoring for Redis master-slave setup

# =============================================================================
# SENTINEL NETWORK CONFIGURATION
# =============================================================================

# Bind to all interfaces (adjust for security requirements)
bind 0.0.0.0

# Sentinel port
port 26379

# =============================================================================
# MASTER MONITORING CONFIGURATION
# =============================================================================

# Monitor Redis master
# sentinel monitor <master-name> <ip> <redis-port> <quorum>
sentinel monitor mymaster redis-master 6379 2

# Authentication for monitored instances
# sentinel auth-pass mymaster REDIS_PASSWORD_HERE

# Master connection timeout
sentinel down-after-milliseconds mymaster 5000

# Parallel syncs during failover
sentinel parallel-syncs mymaster 1

# Failover timeout
sentinel failover-timeout mymaster 60000

# =============================================================================
# SENTINEL SECURITY
# =============================================================================

# Sentinel authentication (Redis 5.0.1+)
# requirepass SENTINEL_PASSWORD_HERE

# =============================================================================
# NOTIFICATION AND SCRIPTS
# =============================================================================

# Notification script for failover events
# sentinel notification-script mymaster /etc/redis/notify.sh

# Client reconfiguration script
# sentinel client-reconfig-script mymaster /etc/redis/reconfig.sh

# =============================================================================
# LOGGING
# =============================================================================

# Log level
loglevel notice

# Log file
logfile /var/log/redis/sentinel.log

# Syslog configuration
syslog-enabled yes
syslog-ident sentinel
syslog-facility local0

# =============================================================================
# ADVANCED CONFIGURATION
# =============================================================================

# Sentinel announce IP (for Docker/cloud environments)
# sentinel announce-ip ANNOUNCE_IP
# sentinel announce-port 26379

# Deny scripts reconfig (security)
sentinel deny-scripts-reconfig yes

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Resolution timer
sentinel resolve-hostnames yes
sentinel announce-hostnames yes