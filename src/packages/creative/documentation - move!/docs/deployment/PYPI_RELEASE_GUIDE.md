# PyPI Release Guide

This guide explains how to release Pynomaly to PyPI.

## Prerequisites

1. **Package Ready**: All features implemented and tested
2. **Version Updated**: Version number in `src/pynomaly/_version.py` (auto-generated by hatch-vcs)
3. **Changelog Updated**: `CHANGELOG.md` contains release notes
4. **Tests Passing**: All tests pass with `pytest`
5. **PyPI Account**: Access to PyPI and Test PyPI

## Automated Release (Recommended)

### Test PyPI Release

1. **Trigger Test Release**:
   ```bash
   # Via GitHub Actions workflow dispatch
   # Go to Actions → "Publish to PyPI" → Run workflow
   # Check "Publish to Test PyPI" option
   ```

2. **Verify Test Installation**:
   ```bash
   # Install from Test PyPI
   pip install -i https://test.pypi.org/simple/ pynomaly
   
   # Test basic functionality
   python -c "import pynomaly; print(pynomaly.__version__)"
   ```

### Production PyPI Release

1. **Create Release Tag**:
   ```bash
   git tag v0.1.0
   git push origin v0.1.0
   ```

2. **Create GitHub Release**:
   - Go to GitHub → Releases → "Create a new release"
   - Choose tag `v0.1.0`
   - Add release notes from CHANGELOG.md
   - Publish release

3. **Automatic Publication**:
   - GitHub Actions will automatically publish to PyPI
   - Monitor the workflow for completion

## Manual Release (Backup)

If automated release fails, use manual process:

```bash
# Build package
hatch build

# Check package
twine check dist/*

# Upload to Test PyPI first
twine upload --repository testpypi dist/*

# Test installation
pip install -i https://test.pypi.org/simple/ pynomaly

# Upload to PyPI
twine upload dist/*
```

## Post-Release Checklist

1. **Verify PyPI Page**: Check https://pypi.org/project/pynomaly/
2. **Test Installation**: `pip install pynomaly`
3. **Update Documentation**: Update installation instructions
4. **Announce Release**: Update README badges and announcements
5. **Prepare Next Version**: Bump version for next development cycle

## Package Information

- **Name**: `pynomaly`
- **Repository**: https://github.com/elgerytme/Pynomaly
- **PyPI**: https://pypi.org/project/pynomaly/
- **Test PyPI**: https://test.pypi.org/project/pynomaly/

## Installation Commands

```bash
# Basic installation
pip install pynomaly

# With all features
pip install pynomaly[all]

# Server installation (API + CLI + Web)
pip install pynomaly[server]

# AutoML features
pip install pynomaly[automl]

# Production deployment
pip install pynomaly[production]
```

## Features Included

- ✅ 40+ anomaly detection algorithms (PyOD integration)
- ✅ AutoML with Optuna optimization  
- ✅ Clean Architecture with Domain-Driven Design
- ✅ FastAPI REST API with 65+ endpoints
- ✅ Progressive Web Application with HTMX
- ✅ Command-line interface with Typer
- ✅ MLOps integration and experiment tracking
- ✅ Production-ready infrastructure with monitoring
- ✅ Comprehensive testing framework (85%+ coverage)
- ✅ Enterprise features (auth, multi-tenancy, RBAC)