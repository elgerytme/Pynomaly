# Migration Guide to v2.0.0

This guide provides step-by-step instructions to migrate your existing Pynomaly setup to version 2.0.0.

## Deprecation of `severity` Property

### Overview

The `severity` property in the `Anomaly` class has been deprecated and will be removed in version 2.0.0. The new approach uses the `AnomalyClassificationService` for a more flexible and extensible classification mechanism.

### Migration Steps

1. **Identify Usage**
   
   Locate instances where the `severity` property is accessed directly:
   
   ```python
   severity_level = anomaly.severity
   ```

2. **Refactor Code**

   Use the `AnomalyClassificationService` to classify anomalies:

   ```python
   from pynomaly.application.services.anomaly_classification_service import AnomalyClassificationService

   # Initialize the classification service
   service = AnomalyClassificationService()

   # Classify the anomaly
   service.classify(anomaly)

   # Access the new severity
   severity_level = anomaly.metadata.get('severity')
   ```

3. **Remove Deprecated Calls**

   Ensure all direct calls to the `severity` property are removed, as they will not function in the upcoming version.

### Example Refactor

#### Before

```python
severity_level = anomaly.severity
```

#### After

```python
from pynomaly.application.services.anomaly_classification_service import AnomalyClassificationService

service = AnomalyClassificationService()
service.classify(anomaly)
severity_level = anomaly.metadata.get('severity')
```

Ensure that all instances throughout your codebase follow this new pattern to maintain compatibility with future releases.
