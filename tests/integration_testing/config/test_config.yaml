# Integration Testing Configuration

# Database Configuration
database:
  url: "sqlite:///:memory:"
  echo: false
  pool_size: 10
  max_overflow: 20
  pool_timeout: 30

# API Configuration
api:
  host: "localhost"
  port: 8001
  timeout: 30
  base_url: "http://localhost:8001"
  
# Performance Testing Configuration
performance:
  max_response_time: 2.0
  concurrent_users: 10
  test_duration: 60
  throughput_threshold: 100
  memory_limit_mb: 1000
  cpu_limit_percent: 80

# Security Configuration
security:
  enable_auth: true
  jwt_secret: "test-secret-key-for-integration-tests"
  password_complexity: "medium"
  rate_limit_requests: 100
  rate_limit_window: 3600
  session_timeout: 3600

# Load Testing Configuration
load_testing:
  users:
    light: 5
    medium: 15
    heavy: 30
    stress: 50
  duration:
    short: 30
    medium: 120
    long: 300
  endpoints:
    - "/health"
    - "/datasets"
    - "/detectors"
    - "/jobs"

# Multi-tenant Configuration
multi_tenant:
  isolation_level: "strict"
  resource_quotas:
    datasets: 10
    detectors: 5
    storage_mb: 1024
    api_calls_per_hour: 1000
  
# Monitoring Configuration
monitoring:
  enabled: true
  metrics_interval: 5
  performance_sampling: 1.0
  memory_monitoring: true
  cpu_monitoring: true

# Disaster Recovery Configuration
disaster_recovery:
  recovery_time_objectives:
    database_failure: 30
    service_failure: 15
    network_partition: 60
  test_scenarios:
    - "database_failure"
    - "service_unavailable"
    - "network_partition"
    - "cascading_failure"

# Contract Testing Configuration
contracts:
  api_version: "1.0"
  schema_validation: true
  breaking_change_detection: true
  backward_compatibility: true
  
# Test Data Configuration
test_data:
  dataset_sizes:
    small: 100
    medium: 1000
    large: 10000
  synthetic_data: true
  anonymize_production_data: true
  
# Environment Configuration
environment:
  name: "integration_test"
  debug: true
  log_level: "DEBUG"
  cleanup_after_tests: true