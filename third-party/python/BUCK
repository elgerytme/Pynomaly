# Third-party Python dependencies for Pynomaly monorepo
# Defines external Python packages for Buck2 builds

load("@prelude//python:defs.bzl", "python_library")

# Core Data Science Libraries
python_library(
    name = "numpy",
    srcs = [],
    visibility = ["PUBLIC"],
    # This is a placeholder - in production you'd use python_requirement()
    # or configure pip/conda dependencies
)

python_library(
    name = "pandas",
    srcs = [],
    deps = [":numpy"],
    visibility = ["PUBLIC"],
)

python_library(
    name = "scipy",
    srcs = [],
    deps = [":numpy"],
    visibility = ["PUBLIC"],
)

python_library(
    name = "scikit-learn",
    srcs = [],
    deps = [":numpy", ":pandas", ":scipy"],
    visibility = ["PUBLIC"],
)

# Machine Learning Frameworks
python_library(
    name = "tensorflow",
    srcs = [],
    deps = [":numpy"],
    visibility = ["PUBLIC"],
)

python_library(
    name = "torch",
    srcs = [],
    deps = [":numpy"],
    visibility = ["PUBLIC"],
)

# MLOps and Experiment Tracking
python_library(
    name = "mlflow",
    srcs = [],
    deps = [":pandas", ":numpy"],
    visibility = ["PUBLIC"],
)

python_library(
    name = "kubeflow",
    srcs = [],
    visibility = ["PUBLIC"],
)

# Data Processing and Validation
python_library(
    name = "pydantic",
    srcs = [],
    visibility = ["PUBLIC"],
)

python_library(
    name = "evidently",
    srcs = [],
    deps = [":pandas", ":numpy"],
    visibility = ["PUBLIC"],
)

python_library(
    name = "pandas-profiling",
    srcs = [],
    deps = [":pandas", ":numpy"],
    visibility = ["PUBLIC"],
)

# Web Frameworks
python_library(
    name = "fastapi",
    srcs = [],
    deps = [":pydantic"],
    visibility = ["PUBLIC"],
)

# CLI Frameworks
python_library(
    name = "click",
    srcs = [],
    visibility = ["PUBLIC"],
)

# Monitoring and Observability
python_library(
    name = "prometheus-client",
    srcs = [],
    visibility = ["PUBLIC"],
)

# Distributed Computing
python_library(
    name = "ray",
    srcs = [],
    deps = [":numpy"],
    visibility = ["PUBLIC"],
)

python_library(
    name = "dask",
    srcs = [],
    deps = [":pandas", ":numpy"],
    visibility = ["PUBLIC"],
)

# Testing Libraries
python_library(
    name = "pytest",
    srcs = [],
    visibility = ["PUBLIC"],
)

python_library(
    name = "pytest-asyncio",
    srcs = [],
    deps = [":pytest"],
    visibility = ["PUBLIC"],
)

python_library(
    name = "pytest-cov",
    srcs = [],
    deps = [":pytest"],
    visibility = ["PUBLIC"],
)

python_library(
    name = "docker",
    srcs = [],
    visibility = ["PUBLIC"],
)

python_library(
    name = "requests",
    srcs = [],
    visibility = ["PUBLIC"],
)