# Pynomaly Environment Configuration
# Copy this file to .env and update values for your environment

# ============================================================================
# Application Configuration
# ============================================================================
PYNOMALY_ENV=development
PYNOMALY_LOG_LEVEL=INFO
PYNOMALY_DEBUG=false

# API Configuration
PYNOMALY_API_HOST=0.0.0.0
PYNOMALY_API_PORT=8000
PYNOMALY_API_WORKERS=4

# ============================================================================
# Database Configuration
# ============================================================================
DATABASE_URL=postgresql://pynomaly:pynomaly@localhost:5432/pynomaly_dev
POSTGRES_PASSWORD=your_secure_postgres_password_here

# ============================================================================
# Redis Configuration
# ============================================================================
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=your_secure_redis_password_here

# ============================================================================
# Security Configuration
# ============================================================================
SECRET_KEY=your_super_secret_key_here_minimum_32_characters
JWT_SECRET_KEY=your_jwt_secret_key_here_minimum_32_characters
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=30

# Encryption
ENCRYPTION_KEY=your_encryption_key_here_32_bytes_base64_encoded

# ============================================================================
# ML Framework Configuration
# ============================================================================
# PyTorch
PYTORCH_ENABLE=true
TORCH_NUM_THREADS=1
OMP_NUM_THREADS=1

# TensorFlow
TENSORFLOW_ENABLE=true
TF_CPP_MIN_LOG_LEVEL=2
TF_FORCE_GPU_ALLOW_GROWTH=true

# JAX
JAX_ENABLE=true
JAX_PLATFORM_NAME=cpu

# ============================================================================
# Performance Configuration
# ============================================================================
# Connection pooling
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30

# Cache settings
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# ============================================================================
# Monitoring and Observability
# ============================================================================
# Enable metrics
METRICS_ENABLED=true
METRICS_PORT=9090

# Health check settings
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30

# Logging
LOG_FORMAT=json
LOG_FILE_PATH=/app/logs/pynomaly.log
LOG_MAX_FILE_SIZE=100MB
LOG_BACKUP_COUNT=5

# ============================================================================
# Development Settings
# ============================================================================
# Auto-reload for development
AUTO_RELOAD=true
RELOAD_DIRS=/app/src

# Test settings
TEST_DATABASE_URL=postgresql://pynomaly:pynomaly@localhost:5432/pynomaly_test
PYTEST_WORKERS=auto

# ============================================================================
# Production Settings
# ============================================================================
# SSL/TLS
SSL_ENABLED=false
SSL_CERT_PATH=/app/certs/cert.pem
SSL_KEY_PATH=/app/certs/key.pem

# CORS settings
CORS_ORIGINS=["https://yourdomain.com", "https://api.yourdomain.com"]
CORS_ALLOW_CREDENTIALS=true

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# ============================================================================
# External Services
# ============================================================================
# Message queue (optional)
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_TOPIC_PREFIX=pynomaly

# Object storage (optional)
S3_BUCKET_NAME=pynomaly-models
S3_REGION=us-east-1
S3_ACCESS_KEY_ID=your_access_key
S3_SECRET_ACCESS_KEY=your_secret_key

# ============================================================================
# Feature Flags
# ============================================================================
ENABLE_AUTOML=true
ENABLE_EXPLAINABILITY=true
ENABLE_STREAMING=true
ENABLE_DISTRIBUTED=false
ENABLE_WEB_UI=true
ENABLE_CLI=true

# ============================================================================
# Docker Compose Overrides
# ============================================================================
COMPOSE_PROJECT_NAME=pynomaly
COMPOSE_FILE=docker-compose.hardened.yml
