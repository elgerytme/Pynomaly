# Performance Configuration Schema v2
# This file contains configurable performance thresholds and baseline metadata

version: 2

metadata:
  schema_version: "2.0"
  created_date: "2025-06-25"
  last_updated: "2025-06-25"
  python_version: "3.11+"
  os: "cross-platform"
  architecture: "x86_64"
  description: "Configurable performance thresholds and baseline schema v2"

# Performance thresholds for different metrics
performance_thresholds:
  # Execution time thresholds (in seconds)
  execution_time:
    # Maximum execution time for different scenarios
    max_execution_time_seconds: 300.0
    # Training time thresholds
    max_training_time_seconds: 180.0
    # Prediction time thresholds
    max_prediction_time_seconds: 30.0
    # Preprocessing time thresholds
    max_preprocessing_time_seconds: 60.0
    # Percentage-based thresholds for comparison
    performance_degradation_threshold_percent: 20.0  # Alert if >20% slower
    performance_improvement_threshold_percent: 10.0  # Good if >10% faster
    # Absolute thresholds for specific operations
    cli_startup_time_ms: 1000.0
    container_init_time_ms: 500.0
    basic_workflow_time_ms: 600.0

  # Memory usage thresholds (in MB)
  memory_usage:
    # Maximum memory usage limits
    max_memory_usage_mb: 4096.0
    # Peak memory thresholds
    max_peak_memory_mb: 2048.0
    # Average memory thresholds
    max_average_memory_mb: 1024.0
    # Memory growth thresholds
    max_memory_growth_mb: 512.0
    # Percentage-based thresholds
    memory_increase_threshold_percent: 25.0  # Alert if >25% memory increase
    memory_efficiency_threshold_percent: 15.0  # Good if <15% memory per sample
    # Baseline memory expectations
    baseline_memory_mb: 100.0
    end_memory_mb: 120.0

  # CPU usage thresholds (in percentage and seconds)
  cpu_usage:
    # Maximum CPU usage limits
    max_cpu_usage_percent: 80.0
    # CPU time thresholds
    max_cpu_time_seconds: 120.0
    # Average CPU usage thresholds
    max_average_cpu_percent: 60.0
    # CPU efficiency thresholds
    cpu_efficiency_threshold_percent: 50.0  # Alert if >50% CPU usage

  # Throughput thresholds (samples per second)
  throughput:
    # Minimum throughput requirements
    min_throughput_samples_per_second: 10.0
    # Training throughput thresholds
    min_training_throughput: 50.0
    # Prediction throughput thresholds
    min_prediction_throughput: 100.0
    # Throughput stability thresholds
    throughput_stability_threshold_percent: 80.0  # Good if >80% stable

  # Quality metric thresholds
  quality_metrics:
    # Minimum accuracy requirements
    min_accuracy_score: 0.70
    # Minimum precision requirements
    min_precision_score: 0.65
    # Minimum recall requirements
    min_recall_score: 0.60
    # Minimum F1 score requirements
    min_f1_score: 0.65
    # Minimum AUC score requirements
    min_auc_score: 0.70
    # Quality degradation thresholds
    quality_degradation_threshold_percent: 5.0  # Alert if >5% quality drop

  # Scalability thresholds
  scalability:
    # Maximum acceptable scale factor
    max_scale_factor: 32
    # Minimum efficiency ratio
    min_efficiency_ratio: 0.5
    # Linear scalability threshold
    linear_scalability_threshold: 0.8
    # Memory scalability thresholds
    memory_scalability_threshold: "near-linear"  # linear, near-linear, quadratic, exponential

  # Resource usage thresholds
  resource_usage:
    # Disk I/O thresholds (in MB)
    max_disk_io_mb: 1024.0
    # Network I/O thresholds (in MB)
    max_network_io_mb: 512.0
    # System resource limits
    max_system_load_percent: 70.0

# Import time thresholds for different modules (in milliseconds)
import_time_thresholds:
  domain_entities_import_time: 150.0
  application_services_import_time: 350.0
  infrastructure_adapters_import_time: 250.0
  presentation_cli_import_time: 300.0

# Test configuration thresholds
test_configuration:
  # Timeout settings
  timeout_seconds: 600.0
  # Iteration settings
  min_iterations: 3
  max_iterations: 10
  # Warmup settings
  warmup_iterations: 2
  # Dataset size limits
  max_dataset_size: 1000000
  min_dataset_size: 100
  # Feature dimension limits
  max_feature_dimensions: 1000
  min_feature_dimensions: 2

# Baseline comparison settings
baseline_comparison:
  # Percentage thresholds for baseline comparison
  performance_regression_threshold_percent: 15.0
  performance_improvement_threshold_percent: 10.0
  memory_regression_threshold_percent: 20.0
  memory_improvement_threshold_percent: 15.0
  # Absolute thresholds for baseline comparison
  significant_change_threshold_seconds: 5.0
  significant_memory_change_threshold_mb: 50.0

# Alert and notification settings
alerts:
  # When to trigger alerts
  performance_degradation_alert: true
  memory_leak_alert: true
  quality_degradation_alert: true
  scalability_issue_alert: true
  # Alert thresholds
  critical_performance_threshold_percent: 50.0
  warning_performance_threshold_percent: 25.0
  critical_memory_threshold_percent: 75.0
  warning_memory_threshold_percent: 50.0

# Environment-specific overrides
environment_overrides:
  # Development environment (more relaxed thresholds)
  development:
    execution_time:
      max_execution_time_seconds: 600.0
      performance_degradation_threshold_percent: 50.0
    memory_usage:
      max_memory_usage_mb: 8192.0
      memory_increase_threshold_percent: 50.0
    
  # CI/CD environment (strict thresholds)
  ci:
    execution_time:
      max_execution_time_seconds: 180.0
      performance_degradation_threshold_percent: 10.0
    memory_usage:
      max_memory_usage_mb: 2048.0
      memory_increase_threshold_percent: 15.0
    
  # Production environment (balanced thresholds)
  production:
    execution_time:
      max_execution_time_seconds: 300.0
      performance_degradation_threshold_percent: 20.0
    memory_usage:
      max_memory_usage_mb: 4096.0
      memory_increase_threshold_percent: 25.0

# Algorithm-specific thresholds
algorithm_thresholds:
  # Fast algorithms (lower resource usage expected)
  fast_algorithms:
    algorithms:
      - "LocalOutlierFactor"
      - "OneClassSVM"
    execution_time:
      max_execution_time_seconds: 60.0
    memory_usage:
      max_memory_usage_mb: 1024.0
  
  # Heavy algorithms (higher resource usage expected)  
  heavy_algorithms:
    algorithms:
      - "IsolationForest"
      - "AutoEncoder"
    execution_time:
      max_execution_time_seconds: 600.0
    memory_usage:
      max_memory_usage_mb: 8192.0

# Reporting configuration
reporting:
  # Report generation settings
  generate_detailed_reports: true
  include_charts: true
  include_recommendations: true
  # Report formats
  supported_formats:
    - "json"
    - "csv"
    - "html"
    - "pdf"
  # Report retention
  report_retention_days: 30
  # Trend analysis settings
  trend_analysis_days: 30
  min_data_points_for_trends: 5
